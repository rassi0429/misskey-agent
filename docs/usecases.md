# ユースケース一覧

## 概要

Botは**ローカルTLの全投稿を監視**し、AIが反応すべきと判断した投稿に返信する。

## UC-1: 今北産業（TLまとめ）

### 説明
ユーザーが離れていた間のローカルTLの出来事を3行でまとめる。

### トリガー
- 「今北産業」を含む投稿
- 「何があった？」「追いつきたい」等の意図を持つ投稿

### フロー
1. ユーザーの最終アクティブ時刻をプロファイルから取得
2. その時刻以降のLTL投稿を取得
3. 重要な出来事を3行に要約
4. 返信として投稿
5. ユーザーの最終アクティブ時刻を更新

### 出力例
```
@user
1. 〇〇さんが新しいプロジェクト始めたみたい
2. △△の話題で盛り上がってた
3. 特に大きな出来事はなかったかな
```

---

## UC-2: タスク追加

### 説明
ユーザーのTo-Doリストにタスクを追加する。

### トリガー
- 「〇〇やらなきゃ」「〇〇しないと」
- 「タスク追加: 〇〇」
- AIが「これはタスクとして記録すべき」と判断

### フロー
1. 投稿からタスク内容を抽出
2. ユーザーのto-doファイルに追記
3. 確認の返信

### 出力例
```
@user
「レポート提出」をタスクに追加したよ！
```

---

## UC-3: タスク確認

### 説明
現在のタスク一覧を表示する。

### トリガー
- 「タスク一覧」「何やるんだっけ」
- 「今日のタスク」

### フロー
1. ユーザーのto-doファイルを読み込み
2. タスク一覧を整形して返信

---

## UC-4: タスク完了

### 説明
タスクを完了状態にする。

### トリガー
- 「〇〇終わった」「〇〇完了」
- 「タスク完了: 〇〇」

### フロー
1. 該当タスクを特定
2. to-doファイルを更新（完了or削除）
3. 確認の返信

---

## UC-5: 定期リマインド設定（cron）

### 説明
指定時刻に定期的にリマインドを送る。

### トリガー
- 「毎朝〇時にリマインド」
- 「毎週月曜に〇〇を通知して」

### フロー
1. 時刻/頻度/内容を抽出
2. ユーザーのcronファイルに追記
3. 確認の返信

### 出力例
```
@user
毎朝9時に「水を飲む」ってリマインドするね！
```

---

## UC-6: バックログ管理

### 説明
いつかやりたいことを記録する（優先度低めのタスク）。

### トリガー
- 「いつか〇〇したい」
- 「余裕ができたら〇〇」

### フロー
1. 内容を抽出
2. backlogファイルに追記
3. 確認の返信

---

## UC-7: 自由会話

### 説明
上記パターンに該当しない場合の一般的な会話。

### トリガー
- メンション
- AIが「この投稿には返答すべき」と判断

### フロー
1. 会話履歴があれば参照
2. AIが適切な返答を生成
3. 返信

---

## UC-8: プロアクティブな反応

### 説明
ユーザーが明示的に呼んでいなくても、AIが自発的に反応する。

### トリガー例
- 困っている様子の投稿
- 質問形式の投稿
- お祝い事（誕生日等）
- 興味深い話題への相槌

### 判断基準（AIによる）
- 反応することで価値を提供できるか
- 邪魔にならないか
- 会話の流れを壊さないか

---

## 反応判断のガイドライン

AIは以下を考慮して反応すべきか判断する：

### 反応すべき場合
- メンションされている
- 明確に助けを求めている
- タスク/リマインド系のキーワードがある
- 質問への回答ができる

### 反応を控える場合
- 明らかに他のユーザーとの会話中
- 独り言や感情の吐露
- 既に他のユーザーが対応している
- 短時間に同じユーザーに何度も反応している

### 判断が微妙な場合
- リアクション（絵文字）のみで様子を見る
- 次の投稿を待つ
